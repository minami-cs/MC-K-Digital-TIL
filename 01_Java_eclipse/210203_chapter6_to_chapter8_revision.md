# 💡 클래스 - 복습

## 1. 클래스의 또 다른 정의

### 클래스는 데이터와 함수의 결합이다!

* 변수: 하나의 데이터를 저장할 수 있는 공간
* 배열: 같은 타입의 여러 데이터를 저장할 수 있는 공간
* 구조체: 타입에 관계없이 서로 관련된 데이터를 저장할 수 있는 공간 (➡ C++에서 나온 개념)
* 클래스: 데이터와 함수의 결합 (구조체+함수)

### 클래스 사용자 정의 타입(User-defined type)

- 프로그래머가 직접 새로운 타입을 정의할 수 있다.
- 서로 관련된 값을 묶어서 하나의 타입으로 정의

```java
class Time {
    int hour;
    int minute;
    int second;
    
    //int[] hour = new int[3];
    //int[] minute = new int[3];
    //int[] second = new int[3];
    //위는 아래처럼 쓸 수 있다.
    Time[] t = new Time[3];
    t[0] = new Time();
    t[1] = new Time();
    t[2] = new Time();
}
```

## 2. 변수와 메소드

### 2-1. 선언위치에 따른 변수의 종류

> 변수의 선언위치가 변수의 종류와 범위(scope)를 결정

- 클래스 변수와 인스턴스 변수는 클래스 영역에 선언된다.

#### 클래스 변수

- 클래스 변수는 클래스가 메모리에 올라갈 때 생성되고, 클래스 변수의 데이터는 힙(heap) 영역에 저장된다.
- 클래스 변수는 인스턴스 생성없이 '클래스이름.클래스변수명'으로 접근
- static변수(클래스 변수)는 프로그램 종료시까지 사용 가능

#### 인스턴스 변수

- 인스턴스 변수는 인스턴스 생성 시에 생성된다.
- 참조변수가 없을 때에는 가비지 컬렉터가 자동으로 제거

#### 지역 변수

- 메소드 영역에 선언되는 변수
- JVM이 해당 메소드를 실행할 때 메소드 영역에 생성된다.

**📌 클래스는 메소드 영역에, 함수는 스택 영역에, 데이터는 힙 영역에 저장된다!**

### 2-2. 메소드

> 작업을 수행하기 위한 명령문의 집합으로 어떤 값을 입력받아서 처리하고 그 결과를 돌려준다. (a.k.a. 함수)

#### 메소드 선언 방법

```java
리턴타입 메소드명 ([매개변수선언, ...]) {
    실행할 코드 작성
}
```

- 리턴값이 없는 메소드는 리턴타입 대신 `void`를 사용

  ```java
  // 예제
  void power() {
      power = !power
  }
  ```

#### return문

> 메소드 실행을 중지하고 리턴값을 지정하는 역할

- 리턴값이 있는 메소드

  - 반드시 리턴문을 사용해서 리턴값을 지정해야 한다.

  - 리턴문의 갯수는 최소화하는 것이 좋다.

📌 **유의:** `exit`는 프로그램 실행을 끝낸다는 뜻! 리턴문과 헷갈리지 말자!

#### 메소드의 호출

- 메소드는 클래스 내부 또는 외부의 호출로 실행된다.

  - 클래스 내부: 메소드 이름으로 호출
  - 클래스 외부: 객체 생성 후 참조 변수를 이용하여 호출

- 메소드에 선언된 매개변수가 없는 경우

  ```java
  참조변수.메소드명();
  ```

- 메소드에 선언된 매개변수가 있는 경우

  ```java
  참조변수.메소드명(값1, 값2, ...);
  ```

#### 메소드 오버로딩(Overloading)

> 하나의 클래스 내에 같은 이름의 메소드를 여러 개 선언하는 것

- 하나의 메소드 이름으로 다양한 매개값을 받기 위해 오버로딩을 이용한다.
- 오버로딩의 조건
  - 메소드 이름이 같아야 한다.
  - 매개변수의 타입 or 갯수 or 순서는 달라야 한다.
  - 리턴타입은 오버로딩 구현에 아무런 영향을 주지 않는다.

### 2-3. JVM의 메모리 구조

- JVM의 메모리 구조는 메소드 영역, 호출스택, 힙으로 구성된다.

#### 호출스택

- 특징

  1. 메소드가 호출되면 수행에 필요한 메모리를 스택에 할당받는다.

  2. 수행을 마치면 사용했던 메모리를 반환한다.

  3. 호출스택의 제일 위에 있는 메소드가 현재 사용 중인 메소드이다.

  4. 아래에 있는 메소드는 바로 위의 메소드를 호출한 메소드이다.

  5. 호출하는 순서대로 위로 차곡차곡 쌓이고, 사용이 끝나는대로 위에서부터 하나씩 메모리를 반환한다.

     ```java
     // 스택 예시
     		3
     	2	2	2
     1	1	1	1	1
     ```

## 3. 생성자

> 인스턴스가 생성될 때마다 호출되는 **인스턴스 초기화 메소드**
>
> - 인스턴스 초기화: 인스턴스 변수에 적절한 값을 저장하는 것

- 함수와 똑같이 생겼으며, `new` 연산자를 사용한다.
- 몇 가지 조건을 제외하고 메소드와 같다.
  - 리턴타입 없이 `void` 사용🙅‍♀️
  - 생성자 이름은 클래스 이름과 같아야 한다.

### 3-1. 기본 생성자

- 매개변수가 없는 생성자를 기본 생성자라고 한다.

- 클래스에 생성자가 하나도 없으면 컴파일러가 기본 생성자를 추가한다.

  ```java
  // 컴파일러가 추가한 기본 생성자는 내용이 없다.
  Card() {}
  ```

**📌 모든 클래스에는 반드시 하나 이상의 생성자가 있어야 한다!**

